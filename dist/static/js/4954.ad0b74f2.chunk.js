"use strict";(self.webpackChunkreact_ant_admin=self.webpackChunkreact_ant_admin||[]).push([[4954,6709,2150,2693],{66709:function(e,n,r){function t(e){return Promise.resolve({code:200,message:"success",data:{token:"admin-token"}})}r.r(n),r.d(n,{login:function(){return t}}),r(77494)},42150:function(e,n,r){r.r(n),r.d(n,{localStorageHandle:function(){return l},sessionStorageHandle:function(){return s}});var t=r(15671),a=r(43144),o=r(54562),i=function(){function e(n){(0,t.Z)(this,e),this.storage=n}return(0,a.Z)(e,[{key:"set",value:function(e,n){var r=this.storage;if(e){e="".concat(o.STORAGE_PREFIX,"_").concat(e);var t=JSON.stringify(n);r.setItem(e,t)}}},{key:"get",value:function(e){var n=this.storage;if(e){e="".concat(o.STORAGE_PREFIX,"_").concat(e);var r=n.getItem(e);if(""==r||null==r||"{}"==JSON.stringify(r))r="";else{var t=JSON.parse(r),a=t.expiration;a&&a<=(new Date).valueOf()?(this.remove(e),r=""):r=t}return r}return null}},{key:"remove",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.storage;e&&(n?this.clear():(e="".concat(o.STORAGE_PREFIX,"_").concat(e),r.removeItem(e)))}},{key:"clear",value:function(){this.storage.clear()}}]),e}(),s=new i(window.sessionStorage),l=new i(window.localStorage)},62693:function(e,n,r){r.r(n);var t,a,o,i,s,l,c,u,d,m,g,p,f=r(30168),h=r(63923),v={loginContainer:(0,h.iv)(t||(t=(0,f.Z)(["\n      width: 100%;\n      min-height: 100%;\n      padding: 160px 0 144px;\n      position: relative;\n      background-image: url('~@/assets/imgs/bgimg.svg');\n    "]))),body:(0,h.iv)(a||(a=(0,f.Z)(["\n    box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\n    border-radius: 4px;\n    border: 1px solid #e6ebf5;\n    background-color: #fff;\n    padding: 20px 30px;\n  "]))),fixWidth:(0,h.iv)(o||(o=(0,f.Z)(["\n    min-width: 260px;\n    width: 390px;\n    margin: 0 auto;\n  "]))),top:(0,h.iv)(i||(i=(0,f.Z)(["\n    .header{\n      position: relative;\n      padding-top: 20px;\n    }\n  "]))),logos:(0,h.iv)(s||(s=(0,f.Z)(["\n    text-align: center;\n    margin: 30px 0 15px;\n  "]))),desc:(0,h.iv)(l||(l=(0,f.Z)(["\n    text-align: center;\n    font-size: 14px;\n    color: rgba(0,0,0,.45);\n    margin-top: 12px;\n    margin-bottom: 40px;\n  "]))),main:(0,h.iv)(c||(c=(0,f.Z)(["\n    .title{\n      font-size : 20px;\n      text-align: center;\n      font-weight:bold;\n      color: #000;\n    }\n    .footLink{\n      text-align: center;\n      .linkItem{\n        margin: 0;\n        font-size: 12px;\n        color:#1890ff;\n      }\n    }\n  "]))),footer:(0,h.iv)(u||(u=(0,f.Z)(["\n  \n  "]))),loginForm:(0,h.iv)(d||(d=(0,f.Z)(["\n    max-width: 300px;\n  "]))),loginFormForgot:(0,h.iv)(m||(m=(0,f.Z)(["\n    float: right;\n  "]))),loginFormButton:(0,h.iv)(g||(g=(0,f.Z)(["\n    width: 100%;\n  "]))),imgCode:(0,h.iv)(p||(p=(0,f.Z)(["\n    display: inline-block;\n    width: 100%;\n    height: 36px;\n    cursor: pointer;\n    &:hover {\n      box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.1);\n    }\n  "])))};n.default=v},14954:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var t=r(1413),a=r(74165),o=r(15861),i=r(34706),s=r(48754),l=r(39201),c=r(2066),u=r(42150),d=r(66709),m=r(29429),g=r(59855),p=r(4223),f=r(27249),h=r(72936),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},x=r(70237),w=function(e,n){return i.createElement(x.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:n,icon:v}))};w.displayName="LockOutlined";var Z=i.forwardRef(w),b=r(62693),k=r(15548),F=r(10161),y=m.Z.Item,S=function(e){var n=(0,s.I0)(),r=function(e){return e?((0,c.validPhone)(e),{pass:!0}):{pass:!1,message:"账号格式错误"}},v={username:[{validator:function(e,n){try{var t=r(n);return t&&t.pass?Promise.resolve():Promise.reject(t.message||"账号格式错误")}catch(e){return Promise.reject(e)}}}],password:[{required:!0,message:"请输入密码"},{type:"string",min:8},{type:"string",max:16}]},x={remember:!0,username:"admin",password:"password"},w={colon:!1,hidden:!1},S=i.createRef(),j=function(){var e=u.localStorageHandle.get("login_info");if(e&&e.remember){var n=e.username,r=e.password;x={remember:!0,username:n,password:r}}else x={remember:!1,username:"",password:""}};(0,i.useEffect)((function(){return j}),[]);var _=function(){var r=(0,o.Z)((0,a.Z)().mark((function r(t){var o,i,s,c,m,g,p,f,h,v;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.username,i=t.password,s=t.remember,c=e.loginStart,m=e.loginSuccess,g=e.loginFailed,p=e.loginComplete,c&&c(),s?u.localStorageHandle.set("login_info",{username:o,password:i,remember:!0,expiration:(new Date).valueOf()+6048e5}):u.localStorageHandle.remove("login_info"),r.prev=4,r.next=7,(0,d.login)({username:o,password:i});case 7:if(f=r.sent,h=f.code,v=f.data,200!=h){r.next=14;break}return r.next=12,n((0,l.SET_TOKEN)(v.token));case 12:(0,k.getCookie)("token"),m&&m();case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),g&&g(r.t0);case 19:return r.prev=19,p&&p(),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[4,16,19,22]])})));return function(e){return r.apply(this,arguments)}}();return(0,F.jsxs)(m.Z,{ref:S,name:"passwordLogin",className:b.default.loginForm,scrollToFirstError:!0,validateTrigger:["onChange","onBlur"],initialValues:x,onFinish:_,onFinishFailed:function(e){console.log("onFinishFailed",e)},onFieldsChange:function(e,n){},onValuesChange:function(e,n){},children:[(0,F.jsx)(y,(0,t.Z)((0,t.Z)({name:"username",rules:v.username},w),{},{children:(0,F.jsx)(g.Z,{allowClear:!0,maxLength:11,prefix:(0,F.jsx)(h.Z,{}),placeholder:"username"})})),(0,F.jsx)(y,(0,t.Z)((0,t.Z)({name:"password",rules:v.password},w),{},{children:(0,F.jsx)(g.Z,{maxLength:16,prefix:(0,F.jsx)(Z,{}),type:"password",placeholder:"Password",onPressEnter:function(){S.current.submit()}})})),(0,F.jsxs)(y,{children:[(0,F.jsx)(y,{name:"remember",valuePropName:"checked",noStyle:!0,children:(0,F.jsx)(p.Z,{children:"记住密码"})}),(0,F.jsx)("a",{className:b.default.loginFormForgot,href:"#!",children:"忘记密码"})]}),(0,F.jsx)(y,{children:(0,F.jsx)(f.ZP,{type:"primary",htmlType:"submit",className:b.default.loginFormButton,children:"登录"})}),(0,F.jsx)(y,{children:"账号 ： admin | editor ， 密码 ：password"})]})}}}]);