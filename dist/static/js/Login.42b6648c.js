(this["webpackJsonpreact-ant-admin"]=this["webpackJsonpreact-ant-admin"]||[]).push([[20],{1851:function(e,n,a){"use strict";a.r(n);a(211);var t,r,o,i=a(110),c=a(42),s=a.n(c),l=a(69),m=a(25),u=a(0),g=a.n(u),p=a(624),d=a.n(p),b=a(697),f=a(724),h={logoContainer:Object(f.a)(t||(t=Object(b.a)(["\n    text-align: center;\n    "]))),img:Object(f.a)(r||(r=Object(b.a)(["\n    display: inline-block;\n    width: 30px;\n    height: 30px;\n    vertical-align: middle;\n    margin-right: 10px;\n  "]))),name:Object(f.a)(o||(o=Object(b.a)(["\n    vertical-align: middle;\n    font-weight: 400;\n    font-size: 26px;\n    color: rgba(156, 52, 41, 1);\n    font-style: normal;\n    letter-spacing: 0px;\n    line-height: 42px;\n    text-decoration: none;\n    &.name2 {\n      color: rgba(22, 23, 22, 1);\n    }\n  "])))},O=a(174),v=a.n(O),x=function(){return g.a.createElement("div",{className:h.logoContainer},g.a.createElement("img",{className:h.img,src:v.a,alt:"logo"}),g.a.createElement("span",{className:"".concat(h.name)},"A"),g.a.createElement("span",{className:"".concat(h.name," name2")},"nt "),g.a.createElement("span",{className:"".concat(h.name)},"D"),g.a.createElement("span",{className:"".concat(h.name," name2")},"esign"))},j=(a(140),a(43)),E=(a(320),a(123)),w=(a(238),a(241)),N=(a(569),a(570)),y=a(33),k=a(83),F=a(95),S=a(855),C=a(208);function _(e){return Object(C.a)({url:"/login",method:"post",data:e})}var P,T,I,R,J,z,A,L,B,D,G,X,V=a(586),W=a(1861),q={loginContainer:Object(f.a)(P||(P=Object(b.a)(["\n      width: 100%;\n      min-height: 100%;\n      padding: 160px 0 144px;\n      position: relative;\n      background-image: url('~@/assets/imgs/bgimg.svg');\n    "]))),body:Object(f.a)(T||(T=Object(b.a)(["\n    box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\n    border-radius: 4px;\n    border: 1px solid #e6ebf5;\n    background-color: #fff;\n    padding: 20px 30px;\n  "]))),fixWidth:Object(f.a)(I||(I=Object(b.a)(["\n    min-width: 260px;\n    width: 390px;\n    margin: 0 auto;\n  "]))),top:Object(f.a)(R||(R=Object(b.a)(["\n    .header{\n      position: relative;\n      padding-top: 20px;\n    }\n  "]))),logos:Object(f.a)(J||(J=Object(b.a)(["\n    text-align: center;\n    margin: 30px 0 15px;\n  "]))),desc:Object(f.a)(z||(z=Object(b.a)(["\n    text-align: center;\n    font-size: 14px;\n    color: rgba(0,0,0,.45);\n    margin-top: 12px;\n    margin-bottom: 40px;\n  "]))),main:Object(f.a)(A||(A=Object(b.a)(["\n    .title{\n      font-size : 20px;\n      text-align: center;\n      font-weight:bold;\n      color: #000;\n    }\n    .footLink{\n      text-align: center;\n      .linkItem{\n        margin: 0;\n        font-size: 12px;\n        color:#1890ff;\n      }\n    }\n  "]))),footer:Object(f.a)(L||(L=Object(b.a)(["\n  \n  "]))),loginForm:Object(f.a)(B||(B=Object(b.a)(["\n    max-width: 300px;\n  "]))),loginFormForgot:Object(f.a)(D||(D=Object(b.a)(["\n    float: right;\n  "]))),loginFormButton:Object(f.a)(G||(G=Object(b.a)(["\n    width: 100%;\n  "]))),imgCode:Object(f.a)(X||(X=Object(b.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 36px;\n    cursor: pointer;\n    &:hover {\n      box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.1);\n    }\n  "])))},K=N.a.Item,H=function(e){var n=Object(y.c)(),a=function(e){return e?(Object(F.c)(e),{pass:!0}):{pass:!1,message:"\u8d26\u53f7\u683c\u5f0f\u9519\u8bef"}},t={username:[{validator:function(e,n){try{var t=a(n);return t&&t.pass?Promise.resolve():Promise.reject(t.message||"\u8d26\u53f7\u683c\u5f0f\u9519\u8bef")}catch(r){return Promise.reject(r)}}}],password:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{type:"string",min:8},{type:"string",max:16}]},r={remember:!0,username:"admin",password:"password"},o={colon:!1,hidden:!1},i=g.a.createRef(),c=function(){var e=S.a.get("login_info");if(e&&e.remember){var n=e.username,a=e.password;r={remember:!0,username:n,password:a}}else r={remember:!1,username:"",password:""}};Object(u.useEffect)((function(){return c}),[]);var m=function(){var a=Object(l.a)(s.a.mark((function a(t){var r,o,i,c,l,m,u,g,p,d;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.username,o=t.password,i=t.remember,c=e.loginStart,l=e.loginSuccess,m=e.loginFailed,u=e.loginComplete,c&&c(),i?S.a.set("login_info",{username:r,password:o,remember:!0,expiration:(new Date).valueOf()+6048e5}):S.a.remove("login_info"),a.prev=4,a.next=7,_({username:r,password:o});case 7:if(g=a.sent,p=g.code,d=g.data,200!=p){a.next=13;break}return a.next=12,n(Object(k.SET_TOKEN)(d.token));case 12:l&&l();case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(4),m&&m(a.t0);case 18:return a.prev=18,u&&u(),a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[4,15,18,21]])})));return function(e){return a.apply(this,arguments)}}();return g.a.createElement(N.a,{ref:i,name:"passwordLogin",className:q.loginForm,scrollToFirstError:!0,validateTrigger:["onChange","onBlur"],initialValues:r,onFinish:m,onFinishFailed:function(e){},onFieldsChange:function(e,n){},onValuesChange:function(e,n){}},g.a.createElement(K,Object.assign({name:"username",rules:t.username},o),g.a.createElement(w.a,{allowClear:!0,maxLength:11,prefix:g.a.createElement(V.a,null),placeholder:"username"})),g.a.createElement(K,Object.assign({name:"password",rules:t.password},o),g.a.createElement(w.a,{maxLength:16,prefix:g.a.createElement(W.a,null),type:"password",placeholder:"Password",onPressEnter:function(){i.current.submit()}})),g.a.createElement(K,null,g.a.createElement(K,{name:"remember",valuePropName:"checked",noStyle:!0},g.a.createElement(E.a,null,"\u8bb0\u4f4f\u5bc6\u7801")),g.a.createElement("a",{className:q.loginFormForgot,href:"#!"},"\u5fd8\u8bb0\u5bc6\u7801")),g.a.createElement(K,null,g.a.createElement(j.a,{type:"primary",htmlType:"submit",className:q.loginFormButton},"\u767b\u5f55")),g.a.createElement(K,null,"\u8d26\u53f7 \uff1a admin | editor \uff0c \u5bc6\u7801 \uff1apassword"))},M=a(21),Q=a(1828);n.default=Object(Q.a)()((function(e){var n=e.t,a=Object(u.useState)(!1),t=Object(m.a)(a,2),r=t[0],o=t[1],c=Object(M.f)(),p=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c("/");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.a.createElement(d.a,{title:n("login.title")},g.a.createElement("div",{className:"".concat(q.loginContainer," un-select")},g.a.createElement("div",{className:"".concat(q.body," ").concat(q.fixWidth)},g.a.createElement("div",{className:q.top},g.a.createElement(x,{className:q.logos}),g.a.createElement("div",{className:q.desc}," ",n("login.subTitle"))),g.a.createElement("div",{className:q.main},g.a.createElement(i.a,{spinning:r,tip:n("login.loading")},g.a.createElement(H,{loginFailed:function(){},loginSuccess:p,loginStart:function(){o(!0)}}))),g.a.createElement("div",{className:q.footer},g.a.createElement("div",{className:q.desc})))))}))},855:function(e,n,a){"use strict";a.d(n,"a",(function(){return c}));a(233),a(234);var t=a(158),r=a(159),o=a(107),i=function(){function e(n){Object(t.a)(this,e),this.storage=n}return Object(r.a)(e,[{key:"set",value:function(e,n){var a=this.storage;if(e){e="".concat(o.STORAGE_PREFIX,"_").concat(e);var t=JSON.stringify(n);a.setItem(e,t)}}},{key:"get",value:function(e){var n=this.storage;if(e){e="".concat(o.STORAGE_PREFIX,"_").concat(e);var a=n.getItem(e);if(""==a||null==a||"{}"==JSON.stringify(a))a="";else{var t=JSON.parse(a),r=t.expiration;r&&r<=(new Date).valueOf()?(this.remove(e),a=""):a=t}return a}return null}},{key:"remove",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.storage;e&&(n?this.clear():(e="".concat(o.STORAGE_PREFIX,"_").concat(e),a.removeItem(e)))}},{key:"clear",value:function(){this.storage.clear()}}]),e}(),c=(new i(window.sessionStorage),new i(window.localStorage))}}]);